<!DOCTYPE html>
<html>
    <head>
        <title>Reservations | Pauloâ€™s Pizza, Pasta, and Pasolina</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <script src="jquery-3.6.1.js" type="text/javascript"></script>
    </head>
    <body>
        <section class="banner">
            <h2>BOOK YOUR TABLE NOW</h2>
            <div class="block-container">
                <div class="block-content">
                    <h3>Reservation</h3>
                    <form>
                        <div class="form-row">
                            <select id="days">
                                <option value="days-select">Select Day</option>
                                <option value="sunday">Sunday</option>
                                <option value="monday">Monday</option>
                                <option value="tuesday">Tuesday</option>
                                <option value="wednesday">Wednesday</option>
                                <option value="Thursnday">Thursday</option>
                                <option value="Friday">Friday</option>
                                <option value="saturday">Saturday</option>
                            </select>
                            <select id="hours">
                                <option value="hour-select">Select Hour</option>
                                <option value="10">10:00</option>
                                <option value="11">11:00</option>
                                <option value="12">12:00</option>
                                <option value="13">13:00</option>
                                <option value="14">14:00</option>
                                <option value="15">15:00</option>
                                <option value="16">16:00</option>
                                <option value="17">17:00</option>
                                <option value="18">18:00</option>
                                <option value="19">19:00</option>
                                <option value="20">20:00</option>
                                <option value="21">21:00</option>
                            </select>
                            <select id="minutes">
                                <option value="minute-select">Select Minute</option>
                                <option value="00">00</option>
                                <option value="15">15</option>
                                <option value="30">30</option>
                                <option value="45">45</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <input type="text" id="fullname" placeholder="Full Name">
                            <input type="text" id="phoneNumber" placeholder="Phone Number">
                        </div>
                        <div class="form-row">
                            <input type="number" id="numGuest" placeholder="How Many People?" min="1">
                            <input type="button" id="submitButton" value="BOOK TABLE"></input>
                        </div>
                        <div id="show"></div>
                    </form>
                </div>
            </div>
        </section>
    
        <script>
            // $(document).ready(function(){
            //     $("button").click(function(){
            //         $("div").empty();
            //     });
            // });

            $( document ).ready(function() {
                $("#submitButton").on("click", function() {
                    if (!validate()){
				        for (i = 0; i < errorStrings.length; i++)
					        errorStrings[i] += "\r\n";
				        alert(errorStrings.join(''));
				        errorStrings.length = 0; // clears the errorStrings
			        }
                    else {
                        var input = $("#fullname").val() +', you have reserved a table for '+$("#days").val() +' at  '+$("#hours").val() +':'+$("#minutes").val() 
                                        +' for ' + $("#numGuest").val() + ' people.' ;
                   
                        $("#show").html(input);
                    }
                });
            });

            // var nameField = document.getElementById('fullname').value;
            // console.log(nameField);
            // var phoneField = document.getElementById('phoneNumber').value;
            // var guestField = document.getElementById('numGuest').value;

            // var daysField = $( "[name='days']" ).val();
            // var hoursField = $( "[name='hours']" ).val();
            // var minutesField = $( "[name='minutes']" ).val();


            const errorStrings = [];
            // // This function validates the input for the form
			function validate() {
				var noErrors = true;
				// return true or false for every case, if any false, alert, if not, open window

                // checks for valid number of guests
                if ($( "#numGuest" ).val() < '1') {
					errorStr = "Number of Guest(s) is Empty";
					errorStrings.push(errorStr);
					noErrors = false;
				}
				// check if name is empty
				if ($( "#fullname" ).val() == "") {
					errorStr = "Full Name is Empty";
					errorStrings.push(errorStr);
					noErrors = false;
				}
				
				// checks for valid phone number
				if ($("#phoneNumber").val().length != 10) {
					errorStr = "Phone number is invalid. Max 10 characters";
					errorStrings.push(errorStr);
					noErrors = false;
				}

				// checks for valid guest number
                if ($("#numGuest").val() == null) {
					errorStr = "Number of Guests is Empty";
					errorStrings.push(errorStr);
					noErrors = false;
				}
                
				return noErrors;
			}
            
        </script>
    </body>
</html>